parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"pR4u":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.findZeroRecursive=exports.interpolate=exports.splitSquare=exports.splitCube=exports.getCenter=exports.getCentroid=exports.boundsToCorners2=exports.boundsToCorners=exports.positiveNumReducer=exports.getHex=exports.mix=exports.clamp=exports.getSurfaceNormal=exports.Vector=void 0;var r=function(){function r(r){this.result=r}return r.prototype.minus=function(r){var t=[];for(var e in this.result)t[e]=this.result[e]-r[e];return this.result=t,this},r.prototype.dot=function(r){var t=0;for(var e in this.result)t+=this.result[e]*r[e];return t},r.prototype.add=function(r){var t=[];for(var e in this.result)t[e]=this.result[e]+r[e];return this.result=t,this},r.prototype.scale=function(r){var t=[];for(var e in this.result)t[e]=this.result[e]*r;return this.result=t,this},r.prototype.cross2d=function(r){return this.result[0]*r[1]-this.result[1]*r[0]},r.prototype.cross=function(r){var t=[0,0,0];return t[0]=this.result[1]*r[2]-this.result[2]*r[1],t[1]=this.result[2]*r[0]-this.result[0]*r[2],t[2]=this.result[0]*r[1]-this.result[1]*r[0],this.result=t,this},r.prototype.toUnitVector=function(){var r=this.magnitude();return this.scale(1/r)},r.prototype.magnitude=function(){for(var r=0,t=0,e=this.result;t<e.length;t++){var o=e[t];r+=o*o}return Math.sqrt(r)},r}();function t(t,e){var o=.001,s=e(t),n=t[0],u=t[1],i=t[2];return new r([e([n+o,u,i])-s,e([n,u+o,i])-s,e([n,u,i+o])-s]).toUnitVector()}function e(r,t,e){return r<t?t:r>e?e:r}function o(r,t,e){return r*(1-e)+t*e}exports.Vector=r,exports.getSurfaceNormal=t,exports.clamp=e,exports.mix=o,exports.getHex=function(){var r=new ArrayBuffer(4),t=new Int32Array(r),e=new Float32Array(r);return function(r){return e[0]=r,t[0].toString(16)}}();var s=function(r,t,e){return t>0&&(r|=1<<e),r};exports.positiveNumReducer=s;var n=function(r){var t=r[0],e=t[0],o=t[1],s=t[2],n=r[1],u=n[0],i=n[1],p=n[2];return[[e,o,s],[u,o,s],[e,i,s],[u,i,s],[e,o,p],[u,o,p],[e,i,p],[u,i,p]]};exports.boundsToCorners=n;var u=function(r){var t=r[0],e=t[0],o=t[1],s=r[1],n=s[0],u=s[1];return[[e,o],[n,o],[e,u],[n,u]]};exports.boundsToCorners2=u;var i=function(r){return r.reduce(function(r,t){return[r[0]+t[0],r[1]+t[1],r[2]+t[2]]},[0,0,0]).map(function(r){return r/3})};exports.getCentroid=i;var p=function(t,e){return new r(t).add(e).scale(.5).result};exports.getCenter=p;var a=function(r){var t=exports.getCenter(r[0],r[7]),e=exports.boundsToCorners([r[0],t]),o=exports.boundsToCorners([t,r[7]]);return[e,exports.boundsToCorners([e[1],o[1]]),exports.boundsToCorners([e[2],o[2]]),exports.boundsToCorners([e[3],o[3]]),exports.boundsToCorners([e[4],o[4]]),exports.boundsToCorners([e[5],o[5]]),exports.boundsToCorners([e[6],o[6]]),o]};exports.splitCube=a;var x=function(r){var t=exports.getCenter(r[0],r[3]),e=exports.boundsToCorners2([r[0],t]),o=exports.boundsToCorners2([t,r[3]]);return[e,exports.boundsToCorners2([e[1],o[1]]),exports.boundsToCorners2([e[2],o[2]]),o]};exports.splitSquare=x;var c=function(t,e,o,s){var n=new r(e).minus(t),u=Math.abs(o),i=Math.abs(s);return n.scale(u/(u+i)).add(t).result};exports.interpolate=c;var l=function(r,t,e,o,s,n){var u=exports.getCenter(r,t),i=n(u);return Math.abs(i)<s?u:Math.sign(e)!==Math.sign(i)?exports.findZeroRecursive(r,u,e,i,s,n):exports.findZeroRecursive(u,t,i,o,s,n)};exports.findZeroRecursive=l;
},{}],"DbCB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setupWebGL=exports.vertexShaderSrc=exports.fragmentShaderSrc=exports.initialState=void 0,exports.initialState={iResolution:[600,600,1],cameraPos:[0,0,-80],cameraDir:[0,0,1],cameraTop:[0,1,0],zoom:4};var e=function(e){var r=e.entry;return"\nprecision highp float;\n\nuniform vec3 iResolution;\nuniform vec3 cameraPos;\nuniform vec3 cameraDir;\nuniform vec3 cameraTop;\nuniform float zoom;\n\n#define MAX_STEPS 100\n#define MAX_DIST 1000.\n#define SURF_DIST .01\n\n"+e.funcs.join("\n")+"\n\nfloat GetDist(vec3 p) {\n  return "+r+"(p);\n}\n\nfloat RayMarch(vec3 ro, vec3 rd) {\n\tfloat dO=0.;\n    \n  for(int i=0; i<MAX_STEPS; i++) {\n    vec3 p = ro + rd*dO;\n    float dS = GetDist(p);\n    dO += dS;\n    if(dO>MAX_DIST || dS<SURF_DIST) break;\n  }\n    \n  return dO;\n}\n\nvec3 GetNormal(vec3 p) {\n\tfloat d = GetDist(p);\n  vec2 e = vec2(.01, 0);\n  \n  vec3 n = d - vec3(\n    GetDist(p-e.xyy),\n    GetDist(p-e.yxy),\n    GetDist(p-e.yyx));\n    \n  return normalize(n);\n}\n\nfloat GetLight(vec3 p) {\n  vec3 lightPos = cameraPos;\n  lightPos.xz += vec2(0,1)*2.;\n  vec3 l = normalize(lightPos-p);\n  vec3 n = GetNormal(p);\n  float dif = dot(n, l);\n  return dif;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n  vec2 uv = fragCoord/iResolution.xy;\n  uv = uv * 2. - 1.;\n  vec3 col = vec3(0);\n  vec3 ro = cameraPos;\n  vec3 r = cross(cameraDir,cameraTop);\n\n  vec3 rd = normalize(cameraDir*zoom+ uv.x*r + uv.y*cameraTop);\n\n  float d = RayMarch(ro, rd);\n  if (d >= MAX_DIST){\n    fragColor = vec4(.5,.5,1,1);\n    return;\n  }\n    \n  vec3 p = ro + rd * d; \n  float dif = GetLight(p);\n  col = vec3(dif);\n  fragColor = vec4(col,1.0);\n}\n\nvoid main() {\n  mainImage(gl_FragColor, gl_FragCoord.xy);\n}\n\n"};exports.fragmentShaderSrc=e,exports.vertexShaderSrc="\n\t// vertex shader's code goes here\n  attribute vec2 position;\n  void main() {\n    gl_Position = vec4(position, 0.0, 1.0);  \n  } \n";var r=function(e,r){var n=e.getContext("webgl");n.clearColor(0,0,0,1),n.clear(n.COLOR_BUFFER_BIT);var o=n.createShader(n.VERTEX_SHADER);n.shaderSource(o,exports.vertexShaderSrc),n.compileShader(o),console.log(n.getShaderInfoLog(o));var t=n.createShader(n.FRAGMENT_SHADER),a=exports.fragmentShaderSrc(r);console.log(a),n.shaderSource(t,a),n.compileShader(t),console.log(n.getShaderInfoLog(t));var i=n.createProgram();n.attachShader(i,o),n.attachShader(i,t),n.linkProgram(i);var c=new Float32Array([-1,-1,-1,1,1,1,-1,-1,1,-1,1,1]),l=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,l),n.bufferData(n.ARRAY_BUFFER,c,n.STATIC_DRAW),n.useProgram(i);var v={};Object.keys(exports.initialState).forEach(function(e){console.log("locating",e),v[e]=n.getUniformLocation(i,e)});var s=n.getAttribLocation(i,"position");n.enableVertexAttribArray(s),n.vertexAttribPointer(s,2,n.FLOAT,!1,0,0);var f=function(e){Object.entries(e).forEach(function(e){var r=e[0],o=e[1];if(o instanceof Array)switch(o.length){case 3:n.uniform3fv(v[r],o);break;default:throw"unable to accomodate larger than 4 entries"}else n.uniform1f(v[r],o)}),n.drawArrays(n.TRIANGLES,0,6)};return f(exports.initialState),f};exports.setupWebGL=r;
},{}],"cjZI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sphericalToCartesion=exports.registerScrollWheel=exports.registerClickAndDrag=void 0;var e=require("../util/math"),t=function(e,t){var r=!1,n=[null,null],o=null,i=function(e){if(r){r=!1;var i=[e.clientX,e.clientY];t({current:i,startPos:n,end:!0,leftClick:o}),o=null}};e.addEventListener("mousedown",function(e){r=!0,n=[e.clientX,e.clientY],o=0===e.button}),e.addEventListener("mouseup",i),e.addEventListener("mouseout",i),e.addEventListener("mousemove",function(e){if(r){var i=[e.clientX,e.clientY];t({current:i,startPos:n,end:!1,leftClick:o})}})};exports.registerClickAndDrag=t;var r=function(e,t){e.addEventListener("wheel",function(e){t(e.deltaY)})};exports.registerScrollWheel=r;var n=function(t){var r=t.pos,n=r[0],o=r[1],i=r[2],s=t.origin;if(Math.abs(n)<.01)return{cameraPos:s};var a=e.clamp(i,.01-Math.PI,Math.PI-.01),c=n*Math.cos(a),l=[c*Math.sin(o)+s[0],n*Math.sin(a)+s[2],-c*Math.cos(o)+s[1]],u=new e.Vector(s).minus(l).toUnitVector().result;return{cameraPos:l,cameraDir:u,cameraTop:new e.Vector(u).cross([0,1,0]).cross(u).toUnitVector().result}};exports.sphericalToCartesion=n;
},{"../util/math":"pR4u"}],"lhUb":[function(require,module,exports) {
"use strict";var r=this&&this.__spreadArrays||function(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;var n=Array(r),o=0;for(e=0;e<t;e++)for(var a=arguments[e],s=0,u=a.length;s<u;s++,o++)n[o]=a[s];return n};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getShaderSrc=exports.wrap=exports.addFunc=exports.v3=exports.f=void 0;var e=function(r){return r.toLocaleString("en-US",{minimumFractionDigits:1,useGrouping:!1})};exports.f=e;var t=function(r){return"vec3("+exports.f(r[0])+","+exports.f(r[1])+","+exports.f(r[2])+")"};exports.v3=t;var n=0,o=function(r,e,t,o){var a="fn"+n++;return{name:a,src:r+" "+a+"("+e+"){\n"+o.reduce(function(r,e,t){return r.replace(new RegExp("\\$"+(t+1),"g"),e.name)},t)+"\n}",deps:o}};exports.addFunc=o;var a=function(r,e,t,n,o){var a=r;return a.gl=exports.addFunc(e,t,n,o),a};exports.wrap=a;var s=function e(t){return r(t.deps.flatMap(e),[t.src])},u=function(r){var e=s(r);return{entry:r.name,funcs:e}};exports.getShaderSrc=u;
},{}],"DcFl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.intersect=exports.diff=exports.union=void 0;var n=require("../util/math"),r=require("./glsl-util"),t={union:function(n,t){var e=function(r){return Math.min(n(r),t(r))};return e.gl=r.addFunc("float","vec3 p","return min($1(p),$2(p))",[n.gl,t.gl]),e},diff:function(n,t){var e=function(r){return Math.min(n(r),-t(r))};return e.gl=r.addFunc("float","vec3 p","return max($1(p),-$2(p))",[n.gl,t.gl]),e},intersect:function(n,t){var e=function(r){return Math.max(n(r),t(r))};return e.gl=r.addFunc("float","vec3 p","return max($1(p),$2(p))",[n.gl,t.gl]),e}},e={union:function(t,e,u){var i=function(r){var i=e(r),o=u(r),a=n.clamp(.5+.5*(o-i)/t,0,1);return n.mix(o,i,a)-t*a*(1-a)};return i.gl=r.addFunc("float","vec3 p",["float k = "+r.f(t)+";","float d1 = $1(p);","float d2 = $2(p);","float h = clamp( 0.5 + 0.5*(d2-d1)/k, 0.0, 1.0 );","return mix( d2, d1, h ) - k*h*(1.0-h);"].join("\n"),[e.gl,u.gl]),i},diff:function(t,e,u){var i=function(r){var i=e(r),o=u(r),a=n.clamp(.5-.5*(i+o)/t,0,1);return n.mix(i,-o,a)+t*a*(1-a)};return i.gl=r.addFunc("float","vec3 p",["float k = "+r.f(t)+";","float d1 = $1(p);","float d2 = $2(p);","float h = clamp( 0.5 - 0.5*(d2+d1)/k, 0.0, 1.0 );","return mix( d2, -d1, h ) + k*h*(1.0-h);"].join("\n"),[u.gl,u.gl]),i},intersect:function(t,e,u){var i=function(r){var i=e(r),o=u(r),a=n.clamp(.5-.5*(o-i)/t,0,1);return n.mix(o,i,a)+t*a*(1-a)};return i.gl=r.addFunc("float","vec3 p",["float k = "+r.f(t)+";","float d1 = $1(p);","float d2 = $2(p);","float h = clamp( 0.5 - 0.5*(d2-d1)/k, 0.0, 1.0 );","return mix( d2, d1, h ) + k*h*(1.0-h);"].join("\n"),[e.gl,u.gl]),i}},u=function(n){return function(r){for(var u=[],i=1;i<arguments.length;i++)u[i-1]=arguments[i];var o=[],a=0;if("radius"in r?a=r.radius:o.push(r),o.push.apply(o,u),0===o.length)throw n+" requires 2 or more shapes";if(1===o.length)return o[0];var l=o[0],f=o.slice(1);return a&&a>0?f.reduce(function(r,t,u){return e[n](a,r,t)},l):f.reduce(function(r,e,u){return t[n](r,e)},l)}};exports.union=u("union"),exports.diff=u("diff"),exports.intersect=u("intersect");
},{"../util/math":"pR4u","./glsl-util":"lhUb"}],"DDfs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.scale=exports.rotate=exports.translate=void 0;var r=require("./glsl-util");function t(t,e){var n=function(r,e){return r-t[e]},a=function(r){return e(r.map(n))};return a.gl=r.addFunc("float","vec3 p","return $1(p-"+r.v3(t)+");",[e.gl]),a}function e(t,e,n){var a=Math.sin(2*e*Math.PI/360),p=Math.cos(2*e*Math.PI/360);switch(t){case"x":return r.wrap(function(r){var t=r[0],e=r[1],u=r[2];return n([t,e*p-u*a,e*a+u*p])},"float","vec3 p","return ($1(vec3(p.x,p.y*"+r.f(p)+"-p.z*"+r.f(a)+",p.y*"+r.f(a)+"+p.z*"+r.f(p)+")));",[n.gl]);case"y":return r.wrap(function(r){var t=r[0],e=r[1],u=r[2];return n([t*p+u*a,e,u*p-t*a])},"float","vec3 p","return ($1(vec3(p.x*"+r.f(p)+"+p.z*"+r.f(a)+",p.y,p.z*"+r.f(p)+"-p.x*"+r.f(a)+")));",[n.gl]);case"z":return r.wrap(function(r){var t=r[0],e=r[1],u=r[2];return n([t*p-e*a,t*a+e*p,u])},"float","vec3 p","return ($1(vec3(p.x*"+r.f(p)+"-p.y*"+r.f(a)+",p.x*"+r.f(a)+"+p.y*"+r.f(p)+",p.z)));",[n.gl])}}function n(t,e){var n=function(r){return r/t},a=function(r){return e(r.map(n))*t};return a.gl=r.addFunc("float","vec3 p","return $1(p/"+r.f(t)+")*"+r.f(t)+";",[e.gl]),a}exports.translate=t,exports.rotate=e,exports.scale=n;
},{"./glsl-util":"lhUb"}],"zmR6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.tile=exports.mirror=exports.revolve=exports.extrude=void 0;var r=require("../util/math"),e=require("./glsl-util");function t(t,n){var a=t/2,u=function(e){var t=n([e[0],e[1]]),u=Math.abs(e[2])-a;return new r.Vector([Math.max(t,0),Math.max(u,0)]).magnitude()+Math.min(Math.max(t,u),0)};return u.gl=e.addFunc("float","vec3 p",["float d = "+n.gl.name+"(p.xy);","vec2 w = vec2( d, abs(p.z) - "+e.f(a)+" );","return min(max(w.x,w.y),0.0) + length(max(w,0.0));"].join("\n"),[n.gl]),u}function n(t,n,a){switch(t){case"x":return e.wrap(function(e){return a([new r.Vector([e[1],e[2]]).magnitude()-n,e[0]])},"float","vec3 p","return $1(length(p.yz)-"+e.f(n)+",p.x)",[a.gl]);case"y":return e.wrap(function(e){return a([new r.Vector([e[0],e[2]]).magnitude()-n,e[1]])},"float","vec3 p","return $1(length(p.xz)-"+e.f(n)+",p.y)",[a.gl]);case"z":return e.wrap(function(e){return a([new r.Vector([e[0],e[1]]).magnitude()-n,e[2]])},"float","vec3 p","return $1(length(p.xy)-"+e.f(n)+",p.z)",[a.gl])}}function a(r,t){switch(r){case"yz":return e.wrap(function(r){return t([Math.abs(r[0]),r[1],r[2]])},"float","vec3 p","return $1(vec3(abs(p.x),p.y,p.z));",[t.gl]);case"xy":return e.wrap(function(r){return t([r[0],r[1],Math.abs(r[2])])},"float","vec3 p","return $1(vec3(p.x,p.y,abs(p.z)));",[t.gl]);case"xz":return e.wrap(function(r){return t([r[0],Math.abs(r[1]),r[2]])},"float","vec3 p","return $1(vec3(p.x,abs(p.y),p.z));",[t.gl])}}exports.extrude=t,exports.revolve=n,exports.mirror=a;var u=function(e){var t=e[0],n=e[1],a=Math.floor(t/2),u=-Math.floor(t/2)+(t+1)%2,c=function(e){return e-n*r.clamp(Math.round(e/n),u,a)},o=n/2;return t%2==1?c:function(r){return c(r+o)}},c=function(r){return r};function o(r,t){var n=r.x?u(r.x):c,a=r.y?u(r.y):c,o=r.z?u(r.z):c;return e.wrap(function(r){return t([n(r[0]),a(r[1]),o(r[2])])},"float","vec3 p",["vec3 c = vec3("+e.f(r.x?r.x[0]:0)+","+e.f(r.y?r.y[0]:0)+","+e.f(r.z?r.z[0]:0)+");","vec3 m = vec3("+e.f(r.x?r.x[1]:0)+","+e.f(r.y?r.y[1]:0)+","+e.f(r.z?r.z[1]:0)+");","vec3 q = p-c*clamp(round(p/c),-m,m);","return $1( q );"].join("\n"),[t.gl])}exports.tile=o;
},{"../util/math":"pR4u","./glsl-util":"lhUb"}],"FVYB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.box=exports.poly=exports.rect=exports.cylinder=exports.sphere=exports.circle=void 0;var t=require("../util/math"),e=require("./extrude"),r=require("./glsl-util");function n(e){void 0===e&&(e=1);var n=function(r){return new t.Vector(r).magnitude()-e};return n.gl=r.addFunc("float","vec2 p","return length(p)-"+r.f(e)+";",[]),n}function o(e){void 0===e&&(e=1);var n=function(r){return new t.Vector(r).magnitude()-e};return n.gl=r.addFunc("float","vec3 p","return length(p)-"+r.f(e)+";",[]),n}function i(t,r){return void 0===t&&(t=1),void 0===r&&(r=2),e.extrude(r,n(t))}function a(e,n){void 0===e&&(e=2),void 0===n&&(n=e);var o=e/2,i=n/2,a=function(e){var r=e[0],n=e[1],a=Math.max(Math.abs(r)-o,0),c=Math.max(Math.abs(n)-i,0);return new t.Vector([Math.max(a,0),Math.max(c,0)]).magnitude()+Math.min(Math.max(a,c),0)};return a.gl=r.addFunc("float","vec2 p",["vec2 d = abs(p)-vec2("+(r.f(e),r.f(n))+");","return length(max(d,0.0))+min(max(d.x,d.y),0.0); "].join("\n"),[]),a}exports.circle=n,exports.sphere=o,exports.cylinder=i,exports.rect=a;var c=function(e){var n=function(r){for(var n=new t.Vector(r).minus(e[0]),o=n.dot(n.result),i=1,a=e.length,c=0;c<a;c++){var u=(c+1)%a,s=new t.Vector(e[u]).minus(e[c]).result,l=new t.Vector(r).minus(e[c]).result,d=new t.Vector(l).minus(new t.Vector(s).scale(t.clamp(new t.Vector(l).dot(s)/new t.Vector(s).dot(s),0,1)).result);o=Math.min(o,d.dot(d.result));var p=new t.Vector(r).minus(e[u]).result,v=new t.Vector(s).cross2d(l),f=[l[1]>=0?1:0,p[1]<0?1:0,v>0?1:0];Math.max.apply(Math,f)===Math.min.apply(Math,f)&&(i*=-1)}return Math.sqrt(o)*i},o=e.map(function(t){return"vec2("+(r.f(t[0]),r.f(t[1]))+")"}).join(",");return n.gl=r.addFunc("float","vec2 p",["vec2[N] poly = vec2[N]("+o+")","vec2[N] e;","vec2[N] v;","vec2[N] pq;","for( int i=0; i<N; i++) {","    int i2= int(mod(float(i+1),float(N)));","e[i] = poly[i2] - poly[i];","    v[i] = p - poly[i];","    pq[i] = v[i] - e[i]*clamp( dot(v[i],e[i])/dot(e[i],e[i]), 0.0, 1.0 );","}","float d = dot(pq[0], pq[0]); ","for( int i=1; i<N; i++) {","  d = min( d, dot(pq[i], pq[i]));","}","int wn =0; ","for( int i=0; i<N; i++) {","    int i2= int(mod(float(i+1),float(N)));","    bool cond1= 0. <= v[i].y;","    bool cond2= 0. > v[i2].y;","    float val3= cross2d(e[i],v[i]);","    wn+= cond1 && cond2 && val3>0. ? 1 : 0;","    wn-= !cond1 && !cond2 && val3<0. ? 1 : 0; // have  a valid down intersect","}","float s= wn == 0 ? 1. : -1.;","return sqrt(d) * s;"].join("\n"),[]),n};function u(t,e){var r=[];if("number"==typeof t){if(!e)throw"error: radius required unless explict Vec2[] is given for points";r.push([0,e]);for(var n=2*Math.PI/t,o=1;o<t;o++){var i=r[o-1],a=i[0],u=i[1],s=Math.cos(n)*a-Math.sin(n)*u,l=Math.sin(n)*a+Math.cos(n)*u;r.push([s,l])}}else r.push.apply(r,t);if(r.length<3)throw"error: polygon requires at least 3 points";return c(r)}function s(e,n,o){void 0===e&&(e=2),void 0===n&&(n=e),void 0===o&&(o=n);var i=e/2,a=n/2,c=o/2,u=function(e){var r=e[0],n=e[1],o=e[2],u=Math.abs(r)-i,s=Math.abs(n)-a,l=Math.abs(o)-c;return new t.Vector([Math.max(u,0),Math.max(s,0),Math.max(l,0)]).magnitude()+Math.min(Math.max(u,s,l),0)};return u.gl=r.addFunc("float","vec3 p",["vec3 q = abs(p) - "+r.v3([e,n,e])+"; ","return length(max(q, 0.0)) + min(max(q.x, max(q.y, q.z)), 0.0); "].join("\n"),[]),u}exports.poly=u,exports.box=s;
},{"../util/math":"pR4u","./extrude":"zmR6","./glsl-util":"lhUb"}],"hi4t":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.main=void 0;var e=require("../csg/boolean"),r=require("../csg/manipulate"),t=require("../csg/primitives");exports.main=r.rotate("y",15,r.rotate("z",45,e.union({radius:3},t.box(10.2),r.translate([10,10,10],t.sphere(10)))));
},{"../csg/boolean":"DcFl","../csg/manipulate":"DDfs","../csg/primitives":"FVYB"}],"QAnz":[function(require,module,exports) {
"use strict";var e=this&&this.__assign||function(){return(e=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var a in t=arguments[i])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var t=require("../util/math"),i=require("./gl-util"),r=require("./mouse-orbit"),a=require("./sample"),n=require("../csg/glsl-util"),o=document.createElement("canvas");o.width=i.initialState.iResolution[0],o.height=i.initialState.iResolution[1],document.body.append(o),o.oncontextmenu=function(e){e.preventDefault(),e.stopPropagation()};var s=window.shaderSrc||n.getShaderSrc(a.main.gl),l=i.setupWebGL(o,s),c={pos:[300,Math.PI/4,Math.PI/4],origin:[0,0,0]};console.log("initial state",JSON.stringify(i.initialState));var u=e(e({},i.initialState),r.sphericalToCartesion(c));console.log("new     state",JSON.stringify(u)),l(u),r.registerClickAndDrag(o,function(a){var n=a.current,o=a.startPos,s=a.end,p=a.leftClick,g=(n[0]-o[0])/i.initialState.iResolution[0],h=(n[1]-o[1])/i.initialState.iResolution[1],d=e({},c);if(p){var m=c.pos;d.pos=[m[0],m[1]+5*g,m[2]+5*h]}else{var f=c.origin,v=new t.Vector(u.cameraTop).scale(h).result,w=new t.Vector(u.cameraTop).cross(u.cameraDir).scale(g).result,S=new t.Vector(w).add(v).scale(c.pos[0]/10).result;d.origin=new t.Vector(f).add(S).result}var q=e(e({},u),r.sphericalToCartesion(d));s&&(c=d,u=q),window.requestAnimationFrame(function(){l(q)})}),r.registerScrollWheel(o,function(t){var i=e({},c);i.pos[0]+=Math.sign(t)*Math.max(i.pos[0]/10,1),c=i,u=e(e({},u),r.sphericalToCartesion(i)),window.requestAnimationFrame(function(){l(u)})});
},{"../util/math":"pR4u","./gl-util":"DbCB","./mouse-orbit":"cjZI","./sample":"hi4t","../csg/glsl-util":"lhUb"}]},{},["QAnz"], null)
//# sourceMappingURL=/entry.9c717ee6.js.map